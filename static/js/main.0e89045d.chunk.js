(this.webpackJsonphousing=this.webpackJsonphousing||[]).push([[0],{284:function(e,t,n){e.exports=n(422)},422:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),i=n.n(o),l=n(18),u=n.n(l),c=n(95),s=n(216),h=n(21),p=n(491),m=n(485),y=n(492),f=n(493),d=n(494),b=n(495),v=n(496),g=n(497),w=n(498),k=n(427),E=n(499),O=n(500),C=n(17),j=n(14),S=n(233),x=n(232),A=n(423),R=n(484),T=n(486),H=n(426),P=n(503),F=n(487),I=n(488),B=n(443),N=n(440),W=n(504),V=n(489),$=n(27),L=function(){function e(t,n){Object(C.a)(this,e),this.amount=t,this.period=n}return Object(j.a)(e,[{key:"fromCSV",value:function(t){if(!("amount"in t)||!("period"in t))throw Error("Parse error: amount and period have to exist");var n=["yearly","monthly"],r=Number(t.amount);if(!n.includes(t.period))throw Error("Parse error: period should be one of [".concat(n.join(", "),"], but got ").concat(t.period));return new e(r,t.period)}},{key:"to",value:function(e){switch(e){case"monthly":return this.monthly();case"yearly":return this.yearly()}}},{key:"monthly",value:function(){var e=this.amount;return"yearly"===this.period&&(e/=12),e}},{key:"yearly",value:function(){var e=this.amount;return"monthly"===this.period&&(e*=12),e}},{key:"update",value:function(e,t){var n=this.to(e);this.amount=t(n),this.period=e}},{key:"clone",value:function(){return new e(this.amount,this.period)}}]),e}(),M=function(e){return e},z=function(){function e(t,n){Object(C.a)(this,e),this.start=t,this.rate=n}return Object(j.a)(e,[{key:"generator",value:u.a.mark((function e(t){var n,r,a,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:M,r=o.length>2&&void 0!==o[2]?o[2]:M,a=this.start;case 3:return a=n(a),a*=1+this.rate.to(t),a=r(a),e.next=9,a;case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"clone",value:function(){return new e(this.start,this.rate)}}]),e}();function J(e,t){for(var n in e){var r=e[n];r&&"function"===typeof r.clone?t[n]=r.clone():t[n]=r}return t}var U=u.a.mark(ae),D=function(){function e(){Object(C.a)(this,e),this.principle=new z(1e5,new L(.06,"yearly")),this.contribution=new L(1e3,"monthly")}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),Y=function(){function e(){Object(C.a)(this,e),this.property=new L(.01,"yearly"),this.householdIncome=new L(22e4,"yearly"),this.capitalGainsRate=.15,this.filingStatus="joint",this.marginalIncomeTaxRate=.24}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),q=function(){function e(){Object(C.a)(this,e),this.term=30,this.principle=new z(2e5,new L(.03,"yearly"))}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),G=function(){function e(){Object(C.a)(this,e),this.plan="house",this.downPayment=5e4,this.chargeForRoom=new L(600,"monthly"),this.chargeForRoomIncrease=new L(.03,"yearly"),this.extraBedrooms=0,this.utilityCost=new L(100,"monthly"),this.insurance=new L(85,"monthly"),this.house=new X,this.rental=new K}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),X=function(){function e(){Object(C.a)(this,e),this.repairCost=new L(500,"yearly"),this.housePrice=25e4,this.growthRate=new L(.04,"yearly"),this.hoaFee=new L(250,"monthly"),this.loan=new q,this.buyClosingCosts=.04,this.sellClosingCosts=.06}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),K=function(){function e(){Object(C.a)(this,e),this.paymentIncrease=new L(.04,"yearly"),this.payment=new L(900,"monthly")}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),Q=function(){function e(){Object(C.a)(this,e),this.housing=new G,this.investment=new D,this.taxes=new Y,this.inflation=new L(.02,"yearly")}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),Z=function(){function e(){Object(C.a)(this,e),this.data=new Q,this.netWorth=0}return Object(j.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}();function _(e,t){if(!e)throw new Error(": "+t)}function ee(e,t){e||console.warn(": "+t)}var te=function(e){return function(t){return(1+e)*t}};function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,a=Object($.a)(t);try{for(a.s();!(r=a.n()).done;){e=(0,r.value)(e,n)}}catch(o){a.e(o)}finally{a.f()}return e}}function re(){return ne((function(e,t){var n=e.data,r=n.investment.contribution,a=n.investment.principle.rate,o=n.investment.principle.start;_(o>=0,"base is negative");var i=oe(o,a.monthly())+r.monthly(),l=e.clone();return l.data.investment.principle.start=i,l.netWorth+=i-o,l}),(function(e,t){var n,r,a,o=e.data.housing,i=o.chargeForRoom.monthly()*o.extraBedrooms;if(e.netWorth+=i-o.insurance.monthly()-o.utilityCost.monthly(),t%12===0){var l=te(e.data.inflation.yearly());o.chargeForRoom.update("monthly",te(o.chargeForRoomIncrease.yearly())),o.insurance.update("monthly",l),o.utilityCost.update("monthly",l)}switch(o.plan){case"house":a=o.house,n=function(e,t){var n=-ie(a.loan).monthly()-a.repairCost.monthly()-a.hoaFee.monthly(),r=e.clone();r.netWorth+=n;var o=r.data.housing.house;if(o.housePrice=oe(o.housePrice,o.growthRate.monthly()),t%12===0){var i=te(r.data.inflation.yearly());o.repairCost.update("monthly",i),o.hoaFee.update("monthly",i)}return r};break;case"rental":r=o.rental,n=function(e,t){var n=e.clone();return n.netWorth-=r.payment.monthly(),t%12===0&&n.data.housing.rental.payment.update("monthly",te(r.paymentIncrease.yearly())),n};break;default:throw new Error("Unsupported plan")}return n(e,t)}))}function ae(e,t){var n,r,a,o;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:(n=new Z).data=e,r=re(),a=ne(),o=1;case 5:if(!(o<=t)){i.next=12;break}return n=r(n,o),i.next=9,a(n,o);case 9:o++,i.next=5;break;case 12:case"end":return i.stop()}}),U)}function oe(e,t){return ee(t>=0&&t<=1,"rate is not between 0 and 1"),e*(1+t)}function ie(e){var t=12*e.term,n=e.principle.rate.monthly(),r=n*Math.pow(1+n,t),a=Math.pow(1+n,t)-1;return new L(e.principle.start*r/a,"monthly")}function le(e,t,n){var r=[];return function e(t,n,o){Object.keys(n).filter((function(e){return"function"!==typeof n[e]})).filter((function(e){return t[e]})).forEach((function(i){var l=n[i];if("string"===typeof l||l instanceof String||"number"===typeof l||l instanceof Number||l instanceof L){var u=t[i],c=function(e,t){return{HousingNumber:function(n,r){return function(a){e[n]=new L(Number(a.target.value),r),t(e)}},Number:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){return function(r){e[n]=Number(r.target.value),t(e)}})),String:function(n){return function(r){e[n]=r.target.value,t(e)}}}}(n,o),s=u.period;if(l instanceof L&&!s)throw new Error("".concat(i,' is a housing number. "period" is required'));r.push([a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{variant:"filled"},a.a.createElement(R.a,{label:u.label,type:u.inputType,value:l instanceof L?l.to(s):l,onChange:c[l.constructor.name](i,u.period),InputProps:{startAdornment:u.startAdornment&&a.a.createElement(T.a,{position:"start"},u.startAdornment),endAdornment:u.endAdornment&&a.a.createElement(T.a,{position:"end"},u.endAdornment)}}),a.a.createElement(H.a,null,u.helper)),a.a.createElement("br",null)),u.rank])}else e(t[i],n[i],(function(e){n[i]=e,o(n)}))}))}(e,t,n),a.a.createElement("div",null,r.sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]})))}var ue=function(e){Object(S.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(C.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).label="",e}return Object(j.a)(n,[{key:"clone",value:function(){return J(this,new n)}}]),n}(Q);function ce(e){var t=e.initialData,n=e.onSubmit,r=e.onClose,o=e.open,i=a.a.useState(t),l=Object(h.a)(i,2),u=l[0],c=l[1];a.a.useEffect((function(){c(t)}),[t]);var s=le(function(e){var t={label:{rank:1,label:"Label",helper:"Logical label for the simulation",inputType:"text"},investment:{principle:{start:{rank:2,label:"Investment Principle",helper:"How much money do you have currently (we expect you to take your down payment out of this money)",inputType:"number",startAdornment:"$"},rate:{rank:2,label:"Average Return",helper:"What is the annual average rate of return of your portfolio?",inputType:"number",endAdornment:"%",period:"yearly"}},contribution:{rank:3,label:"Monthly Contribution",helper:"How much do you contribute to your principle each month?",inputType:"number",startAdornment:"$",period:"monthly"}},inflation:{rank:4,label:"Inflation",helper:"How much inflation per year?",inputType:"number",endAdornment:"%",period:"yearly"},housing:{downPayment:{rank:5,label:"Upfront Costs",helper:"e.g. move-in fees, non-refundable fees, pizza + beer for your friends who helped you move",inputType:"number",startAdornment:"$"},extraBedrooms:{rank:5,label:"Spare Rooms",helper:"How much you plan to charge for each spare room(s)",inputType:"number"},chargeForRoom:{rank:5,label:"Charge per Room",helper:"",inputType:"number",period:"monthly"},chargeForRoomIncrease:{rank:5,label:"Charge for room increase per year?",helper:"How much you plan to increase the rent for your spare room(s) each year",inputType:"number",endAdornment:"%",period:"yearly"}}};switch(e){case"house":t.housing.house={repairCost:{rank:6,label:"Annual Repair Cost",helper:"How much you expect to spend annually on home repairs",inputType:"number",startAdornment:"$",period:"yearly"},housePrice:{rank:6.1,label:"House Price",helper:"How much you expect to pay for the home",inputType:"number",startAdornment:"$"},buyClosingCosts:{rank:6.2,label:"Buying Closing Costs",helper:"How much you expect to pay for closing costs when buying the home(percent)",inputType:"number",endAdornment:"%"},sellClosingCosts:{rank:6.3,label:"Selling Closing Costs",helper:"How much you expect to pay for closing costs when selling the home(percent)",inputType:"number",endAdornment:"%"},growthRate:{rank:6.4,label:"Home Value Appreciation",helper:"How much you expect home value to go up each year",inputType:"number",endAdornment:"%",period:"yearly"},hoaFee:{rank:6.5,label:"HOA Fee",helper:"Home Owner's Association Monthly Fee",inputType:"number",startAdornment:"$",period:"monthly"}};break;case"rental":t.housing.rental={payment:{rank:6.1,label:"Monthly Rent Payment",helper:"How much do you pay rent every month?",inputType:"number",startAdornment:"$",period:"monthly"},paymentIncrease:{rank:6.2,label:"Payment Increase Rate",helper:"How much you expect rent to go up annually",inputType:"number",endAdornment:"%",period:"yearly"}};break;default:throw new Error("Unsupported plan: ".concat(e))}return t}(u.housing.plan),u,(function(e){return c(e.clone())}));return a.a.createElement(P.a,{open:o,onClose:r,"aria-labelledby":"form-dialog-title"},a.a.createElement(F.a,{id:"form-dialog-title"},"Subscribe"),a.a.createElement(I.a,null,a.a.createElement(A.a,null,a.a.createElement(B.a,{id:"select-housing-type"},"Housing Type"),a.a.createElement(N.a,{labelId:"select-housing-type",value:u.housing.plan,onChange:function(e){var t=e.target.value;u.housing.plan=t,c(u.clone())}},a.a.createElement(W.a,{value:"house"},"House"),a.a.createElement(W.a,{value:"rental"},"Apartment")),a.a.createElement(H.a,null,"Select housing type to compare")),s),a.a.createElement(V.a,null,a.a.createElement(k.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(k.a,{color:"primary",onClick:function(){return n(u)}},"Submit")))}var se=n(221);function he(e){var t=e.data,n=e.years;return n||(n=30),a.a.createElement(se.a,{data:t.map((function(e){return function(e,t){for(var n=12*t,r=ae(e,n),a=[],o=1;o<=n;o++){var i=r.next();if(i.done)break;o%12===0&&a.push(i.value)}return{id:e.label,data:a.map((function(e,t){return{x:t+1,y:e.netWorth}}))}}(e,n)})),margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Years",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Net Worth",legendOffset:-70,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})}function pe(e,t){for(var n=e.split("\n").map((function(e){return e.split(",")})),r=n[0],a={},o=0;o<r.length;o++)for(var i=r[o].split(".").slice(1),l=a,u=0;u<i.length;u++){var c=i[u];c in l||(l[c]=u===i.length-1?o:{}),l=l[c]}function s(e,t){for(var n in e){var r=e[n];"number"===typeof r?e[n]=t[r]:s(r,t)}return e}function h(e,t,n){if(e)for(var r in n){var a,o=n[r];if("function"!==typeof o.fromCSV)switch(a=typeof o){case"number":e[r]=Number(t[r]);break;case"boolean":e[r]=Boolean(t[r]);break;case"string":e[r]=t[r];break;case"object":h(e[r],t[r],o);break;default:throw Error("Unsupported type: ".concat(a))}else e[r]=o.fromCSV(t[r])}}for(var p=n.slice(1),m=[],y=0;y<p.length;y++){var f=JSON.parse(JSON.stringify(t)),d=JSON.parse(JSON.stringify(a));s(d,p[y]),h(f,d,t),m.push(f)}return m}var me=function(){var e=a.a.useState(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],o=a.a.useState([]),i=Object(h.a)(o,2),l=i[0],C=i[1],j=a.a.useState(-1),S=Object(h.a)(j,2),x=S[0],A=S[1],R=a.a.useState(new ue),T=Object(h.a)(R,2),H=T[0],P=T[1];function F(){return(F=Object(s.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files){e.next=3;break}return e.abrupt("return");case 3:if(r=n[0]){e.next=6;break}return e.abrupt("return");case 6:(a=new FileReader).onload=function(){C(pe(a.result,new ue))},a.readAsText(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("div",null,a.a.createElement("div",{style:{height:"40vh",width:"100%"}},a.a.createElement(he,{data:l})),a.a.createElement(p.a,{component:m.a},a.a.createElement(y.a,null,a.a.createElement(f.a,null,a.a.createElement(d.a,null,a.a.createElement(b.a,{align:"center"},"Label"),a.a.createElement(b.a,{align:"center"},"Actions"))),a.a.createElement(v.a,null,l.map((function(e,t){return a.a.createElement(d.a,{key:t},a.a.createElement(b.a,{align:"center"},e.label),a.a.createElement(b.a,{align:"center"},a.a.createElement(g.a,{variant:"text",color:"primary","aria-label":"text primary button group"},a.a.createElement(w.a,{color:"primary","aria-label":"Edit",component:"span",onClick:function(){return function(e){A(e),P(l[e]),r(!0)}(t)}},a.a.createElement(E.a,null)),a.a.createElement(w.a,{color:"primary","aria-label":"Remove",component:"span",onClick:function(){return function(e){var t=l.slice(0,e)||[],n=l.slice(e+1)||[];C([].concat(Object(c.a)(t),Object(c.a)(n)))}(t)}},a.a.createElement(O.a,null)))))}))))),a.a.createElement(ce,{initialData:H,open:n,onClose:function(){return r(!1)},onSubmit:function(e){x<0||x>=l.length?C([].concat(Object(c.a)(l),[e.clone()])):(l[x]=e.clone(),C(Object(c.a)(l))),r(!1)}}),a.a.createElement(k.a,{onClick:function(){A(-1),r(!0)}},"Add"),a.a.createElement(k.a,{onClick:function(){var e=encodeURI("data:text/csv;charset=utf-8,"+function(e){var t=[],n={},r=0;function a(e){var t={};return function e(a,o){if(a)for(var i in a){var l="".concat(o,".").concat(i),u=a[i],c=null;"function"===typeof u.toCSV?c=u.toCSV():Array.isArray(u)||("object"===typeof u?e(u,l):c="function"===typeof u.toString?u.toString():u),c&&(t[l]=c,l in n||(n[l]=r,r++))}}(e,""),t}var o,i=Object($.a)(e);try{for(i.s();!(o=i.n()).done;){var l=a(o.value),u=new Array(r);for(var c in l){u[n[c]]=l[c]}t.push(u)}}catch(s){i.e(s)}finally{i.f()}return Object.keys(n).join(",")+"\n"+t.map((function(e){return e.join(",")})).join("\n")}(l));window.open(e)}},"Download as CSV"),a.a.createElement("input",{accept:"text/csv",id:"contained-button-file",type:"file",onChange:function(e){return F.apply(this,arguments)}}),a.a.createElement("label",{htmlFor:"contained-button-file"},a.a.createElement(k.a,{variant:"contained",color:"primary",component:"span"},"Load CSV")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[284,1,2]]]);
//# sourceMappingURL=main.0e89045d.chunk.js.map