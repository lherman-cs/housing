(this.webpackJsonphousing=this.webpackJsonphousing||[]).push([[0],{287:function(e,t,n){e.exports=n(425)},425:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(17),i=n.n(o),c=n(18),l=n.n(c),u=n(164),s=n(77),h=n(220),p=n(21),m=n(15),f=n(495),y=n(489),d=n(496),b=n(497),v=n(498),g=n(499),w=n(507),k=n(501),E=n(502),O=n(500),j=n(430),C=n(503),x=n(504),S=n(16),A=n(237),R=n(236),T=n(426),H=n(488),P=n(490),F=n(429),I=n(508),B=n(491),W=n(492),N=n(446),V=n(443),$=n(509),L=n(493),M=n(27),z=function(){function e(t,n){Object(m.a)(this,e),this.amount=t,this.period=n}return Object(S.a)(e,[{key:"fromCSV",value:function(t){if(!("amount"in t)||!("period"in t))throw Error("Parse error: amount and period have to exist");var n=["yearly","monthly"],r=Number(t.amount);if(!n.includes(t.period))throw Error("Parse error: period should be one of [".concat(n.join(", "),"], but got ").concat(t.period));return new e(r,t.period)}},{key:"to",value:function(e){switch(e){case"monthly":return this.monthly();case"yearly":return this.yearly()}}},{key:"monthly",value:function(){var e=this.amount;return"yearly"===this.period&&(e/=12),e}},{key:"yearly",value:function(){var e=this.amount;return"monthly"===this.period&&(e*=12),e}},{key:"update",value:function(e,t){var n=this.to(e);this.amount=t(n),this.period=e}},{key:"clone",value:function(){return new e(this.amount,this.period)}}]),e}(),U=function(e){return e},D=function(){function e(t,n){Object(m.a)(this,e),this.start=t,this.rate=n}return Object(S.a)(e,[{key:"generator",value:l.a.mark((function e(t){var n,r,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:U,r=o.length>2&&void 0!==o[2]?o[2]:U,a=this.start;case 3:return a=n(a),a*=1+this.rate.to(t),a=r(a),e.next=9,a;case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"clone",value:function(){return new e(this.start,this.rate)}}]),e}();function J(e,t){for(var n in e){var r=e[n];r&&"function"===typeof r.clone?t[n]=r.clone():t[n]=r}return t}var Y=l.a.mark(ie),q=function(){function e(){Object(m.a)(this,e),this.principle=new D(1e5,new z(.06,"yearly")),this.contribution=new z(1e3,"monthly")}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),G=function(){function e(){Object(m.a)(this,e),this.property=new z(.01,"yearly"),this.householdIncome=new z(22e4,"yearly"),this.capitalGainsRate=.15,this.filingStatus="joint",this.marginalIncomeTaxRate=.24}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),X=function(){function e(){Object(m.a)(this,e),this.term=30,this.principle=new D(2e5,new z(.03,"yearly"))}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),K=function(){function e(){Object(m.a)(this,e),this.plan="house",this.downPayment=5e4,this.chargeForRoom=new z(600,"monthly"),this.chargeForRoomIncrease=new z(.03,"yearly"),this.extraBedrooms=0,this.utilityCost=new z(100,"monthly"),this.insurance=new z(85,"monthly"),this.house=new Q,this.rental=new Z}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),Q=function(){function e(){Object(m.a)(this,e),this.repairCost=new z(500,"yearly"),this.housePrice=25e4,this.growthRate=new z(.04,"yearly"),this.hoaFee=new z(250,"monthly"),this.loan=new X,this.buyClosingCosts=.04,this.sellClosingCosts=.06}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),Z=function(){function e(){Object(m.a)(this,e),this.paymentIncrease=new z(.04,"yearly"),this.payment=new z(900,"monthly")}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),_=function(){function e(){Object(m.a)(this,e),this.housing=new K,this.investment=new q,this.taxes=new G,this.inflation=new z(.02,"yearly")}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}(),ee=function(){function e(){Object(m.a)(this,e),this.data=new _,this.netWorth=0}return Object(S.a)(e,[{key:"clone",value:function(){return J(this,new e)}}]),e}();function te(e,t){if(!e)throw new Error(": "+t)}function ne(e,t){e||console.warn(": "+t)}var re=function(e){return function(t){return(1+e)*t}};function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,a=Object(M.a)(t);try{for(a.s();!(r=a.n()).done;){e=(0,r.value)(e,n)}}catch(o){a.e(o)}finally{a.f()}return e}}function oe(){return ae((function(e,t){var n=e.data,r=n.investment.contribution,a=n.investment.principle.rate,o=n.investment.principle.start;te(o>=0,"base is negative");var i=ce(o,a.monthly())+r.monthly(),c=e.clone();return c.data.investment.principle.start=i,c.netWorth+=i-o,c}),(function(e,t){var n,r,a,o=e.data.housing,i=o.chargeForRoom.monthly()*o.extraBedrooms;if(e.netWorth+=i-o.insurance.monthly()-o.utilityCost.monthly(),t%12===0){var c=re(e.data.inflation.yearly());o.chargeForRoom.update("monthly",re(o.chargeForRoomIncrease.yearly())),o.insurance.update("monthly",c),o.utilityCost.update("monthly",c)}switch(o.plan){case"house":a=o.house,n=function(e,t){var n=-le(a.loan).monthly()-a.repairCost.monthly()-a.hoaFee.monthly(),r=e.clone();r.netWorth+=n;var o=r.data.housing.house;if(o.housePrice=ce(o.housePrice,o.growthRate.monthly()),t%12===0){var i=re(r.data.inflation.yearly());o.repairCost.update("monthly",i),o.hoaFee.update("monthly",i)}return r};break;case"rental":r=o.rental,n=function(e,t){var n=e.clone();return n.netWorth-=r.payment.monthly(),t%12===0&&n.data.housing.rental.payment.update("monthly",re(r.paymentIncrease.yearly())),n};break;default:throw new Error("Unsupported plan")}return n(e,t)}))}function ie(e,t){var n,r,a,o;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:(n=new ee).data=e.clone(),r=oe(),a=ae(),o=1;case 5:if(!(o<=t)){i.next=12;break}return n=r(n,o),i.next=9,a(n,o);case 9:o++,i.next=5;break;case 12:case"end":return i.stop()}}),Y)}function ce(e,t){return ne(t>=0&&t<=1,"rate is not between 0 and 1"),e*(1+t)}function le(e){var t=12*e.term,n=e.principle.rate.monthly(),r=n*Math.pow(1+n,t),a=Math.pow(1+n,t)-1;return new z(e.principle.start*r/a,"monthly")}function ue(e,t,n){var r=[];return function e(t,n,o){Object.keys(n).filter((function(e){return"function"!==typeof n[e]})).filter((function(e){return t[e]})).forEach((function(i){var c=n[i];if("string"===typeof c||c instanceof String||"number"===typeof c||c instanceof Number||c instanceof z){var l=t[i],u=function(e,t){return{HousingNumber:function(n,r){return function(a){e[n]=new z(Number(a.target.value),r),t(e)}},Number:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){return function(r){e[n]=Number(r.target.value),t(e)}})),String:function(n){return function(r){e[n]=r.target.value,t(e)}}}}(n,o),s=l.period;if(c instanceof z&&!s)throw new Error("".concat(i,' is a housing number. "period" is required'));r.push([a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{variant:"filled"},a.a.createElement(H.a,{label:l.label,type:l.inputType,value:c instanceof z?c.to(s):c,onChange:u[c.constructor.name](i,l.period),InputProps:{startAdornment:l.startAdornment&&a.a.createElement(P.a,{position:"start"},l.startAdornment),endAdornment:l.endAdornment&&a.a.createElement(P.a,{position:"end"},l.endAdornment)}}),a.a.createElement(F.a,null,l.helper)),a.a.createElement("br",null)),l.rank])}else e(t[i],n[i],(function(e){n[i]=e,o(n)}))}))}(e,t,n),a.a.createElement("div",null,r.sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]})))}var se=function(e){Object(A.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).label="",e}return Object(S.a)(n,[{key:"clone",value:function(){return J(this,new n)}}]),n}(_);function he(e){var t=e.initialData,n=e.onSubmit,r=e.onClose,o=e.open,i=a.a.useState(t),c=Object(p.a)(i,2),l=c[0],u=c[1];a.a.useEffect((function(){u(t)}),[t]);var s=ue(function(e){var t={label:{rank:1,label:"Label",helper:"Logical label for the simulation",inputType:"text"},investment:{principle:{start:{rank:2,label:"Investment Principle",helper:"How much money do you have currently (we expect you to take your down payment out of this money)",inputType:"number",startAdornment:"$"},rate:{rank:2,label:"Average Return",helper:"What is the annual average rate of return of your portfolio?",inputType:"number",endAdornment:"%",period:"yearly"}},contribution:{rank:3,label:"Monthly Contribution",helper:"How much do you contribute to your principle each month?",inputType:"number",startAdornment:"$",period:"monthly"}},inflation:{rank:4,label:"Inflation",helper:"How much inflation per year?",inputType:"number",endAdornment:"%",period:"yearly"},housing:{downPayment:{rank:5,label:"Upfront Costs",helper:"e.g. move-in fees, non-refundable fees, pizza + beer for your friends who helped you move",inputType:"number",startAdornment:"$"},extraBedrooms:{rank:5,label:"Spare Rooms",helper:"How much you plan to charge for each spare room(s)",inputType:"number"},chargeForRoom:{rank:5,label:"Charge per Room",helper:"",inputType:"number",period:"monthly"},chargeForRoomIncrease:{rank:5,label:"Charge for room increase per year?",helper:"How much you plan to increase the rent for your spare room(s) each year",inputType:"number",endAdornment:"%",period:"yearly"}}};switch(e){case"house":t.housing.house={repairCost:{rank:6,label:"Annual Repair Cost",helper:"How much you expect to spend annually on home repairs",inputType:"number",startAdornment:"$",period:"yearly"},housePrice:{rank:6.1,label:"House Price",helper:"How much you expect to pay for the home",inputType:"number",startAdornment:"$"},buyClosingCosts:{rank:6.2,label:"Buying Closing Costs",helper:"How much you expect to pay for closing costs when buying the home(percent)",inputType:"number",endAdornment:"%"},sellClosingCosts:{rank:6.3,label:"Selling Closing Costs",helper:"How much you expect to pay for closing costs when selling the home(percent)",inputType:"number",endAdornment:"%"},growthRate:{rank:6.4,label:"Home Value Appreciation",helper:"How much you expect home value to go up each year",inputType:"number",endAdornment:"%",period:"yearly"},hoaFee:{rank:6.5,label:"HOA Fee",helper:"Home Owner's Association Monthly Fee",inputType:"number",startAdornment:"$",period:"monthly"}};break;case"rental":t.housing.rental={payment:{rank:6.1,label:"Monthly Rent Payment",helper:"How much do you pay rent every month?",inputType:"number",startAdornment:"$",period:"monthly"},paymentIncrease:{rank:6.2,label:"Payment Increase Rate",helper:"How much you expect rent to go up annually",inputType:"number",endAdornment:"%",period:"yearly"}};break;default:throw new Error("Unsupported plan: ".concat(e))}return t}(l.housing.plan),l,(function(e){return u(e.clone())}));return a.a.createElement(I.a,{open:o,onClose:r,"aria-labelledby":"form-dialog-title"},a.a.createElement(B.a,{id:"form-dialog-title"},"Subscribe"),a.a.createElement(W.a,null,a.a.createElement(T.a,null,a.a.createElement(N.a,{id:"select-housing-type"},"Housing Type"),a.a.createElement(V.a,{labelId:"select-housing-type",value:l.housing.plan,onChange:function(e){var t=e.target.value;l.housing.plan=t,u(l.clone())}},a.a.createElement($.a,{value:"house"},"House"),a.a.createElement($.a,{value:"rental"},"Apartment")),a.a.createElement(F.a,null,"Select housing type to compare")),s),a.a.createElement(L.a,null,a.a.createElement(j.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(j.a,{color:"primary",onClick:function(){return n(l)}},"Submit")))}var pe=n(225);function me(e){var t=e.data,n=e.years;return n||(n=30),a.a.createElement(pe.a,{data:t.map((function(e){return function(e,t){for(var n=12*t,r=ie(e,n),a=[],o=1;o<=n;o++){var i=r.next();if(i.done)break;o%12===0&&a.push(i.value)}return{id:e.label,data:a.map((function(e,t){return{x:t+1,y:e.netWorth}}))}}(e,n)})),margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Years",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Net Worth",legendOffset:-70,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})}function fe(e,t){for(var n=e.split("\n").map((function(e){return e.split(",")})),r=n[0],a={},o=0;o<r.length;o++)for(var i=r[o].split(".").slice(1),c=a,l=0;l<i.length;l++){var u=i[l];u in c||(c[u]=l===i.length-1?o:{}),c=c[u]}function s(e,t){for(var n in e){var r=e[n];"number"===typeof r?e[n]=t[r]:s(r,t)}return e}function h(e,t,n){if(e)for(var r in n){var a,o=n[r];if("function"!==typeof o.fromCSV)switch(a=typeof o){case"number":e[r]=Number(t[r]);break;case"boolean":e[r]=Boolean(t[r]);break;case"string":e[r]=t[r];break;case"object":h(e[r],t[r],o);break;default:throw Error("Unsupported type: ".concat(a))}else e[r]=o.fromCSV(t[r])}}for(var p=n.slice(1),m=[],f=0;f<p.length;f++){var y=t.clone(),d=JSON.parse(JSON.stringify(a));s(d,p[f]),h(y,d,t),m.push(y)}return m}var ye=function e(t){Object(m.a)(this,e),this.selected=!0,this.data=void 0,t||(t=new se),this.data=t};var de=function(){var e=a.a.useState(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],o=a.a.useState([]),i=Object(p.a)(o,2),c=i[0],m=i[1],S=a.a.useState(-1),A=Object(p.a)(S,2),R=A[0],T=A[1],H=a.a.useState(new se),P=Object(p.a)(H,2),F=P[0],I=P[1],B=c.filter((function(e){return e.selected})).map((function(e){return e.data}));function W(){return(W=Object(h.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files){e.next=3;break}return e.abrupt("return");case 3:if(r=n[0]){e.next=6;break}return e.abrupt("return");case 6:(a=new FileReader).onload=function(){m(fe(a.result,new se).map((function(e){return new ye(e)})))},a.readAsText(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("div",null,a.a.createElement("div",{style:{height:"40vh",width:"100%"}},a.a.createElement(me,{data:B})),a.a.createElement(f.a,{component:y.a},a.a.createElement(d.a,null,a.a.createElement(b.a,null,a.a.createElement(v.a,null,a.a.createElement(g.a,{padding:"checkbox"},a.a.createElement(w.a,{checked:B.length>0&&B.length===c.length,onChange:function(e){return t=e.target.checked,void m(c.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{selected:t})})));var t},inputProps:{"aria-label":"select all desserts"}})),a.a.createElement(g.a,{align:"center"},"Label"),a.a.createElement(g.a,{align:"center"},"Actions"))),a.a.createElement(k.a,null,c.map((function(e,t){return a.a.createElement(v.a,{key:t,hover:!0,onClick:function(){return function(e){c[e].selected=!c[e].selected,m(Object(s.a)(c))}(t)},role:"checkbox","aria-checked":e.selected,tabIndex:-1,selected:e.selected},a.a.createElement(g.a,{padding:"checkbox"},a.a.createElement(w.a,{checked:e.selected})),a.a.createElement(g.a,{align:"center"},e.data.label),a.a.createElement(g.a,{align:"center"},a.a.createElement(E.a,{variant:"text",color:"primary","aria-label":"text primary button group"},a.a.createElement(O.a,{id:"action-edit",color:"primary","aria-label":"Edit",component:"span",onClick:function(e){return function(e,t){e.stopPropagation(),T(t),I(c[t].data),r(!0)}(e,t)}},a.a.createElement(C.a,null)),a.a.createElement(O.a,{color:"primary","aria-label":"Remove",component:"span",onClick:function(e){return function(e,t){e.stopPropagation();var n=c.slice(0,t)||[],r=c.slice(t+1)||[];m([].concat(Object(s.a)(n),Object(s.a)(r)))}(e,t)}},a.a.createElement(x.a,null)))))}))))),a.a.createElement(he,{initialData:F,open:n,onClose:function(){return r(!1)},onSubmit:function(e){R<0||R>=c.length?m([].concat(Object(s.a)(c),[new ye(e.clone())])):(c[R]=new ye(e.clone()),m(Object(s.a)(c))),r(!1)}}),a.a.createElement(j.a,{onClick:function(){T(-1),r(!0)}},"Add"),a.a.createElement(j.a,{onClick:function(){var e=encodeURI("data:text/csv;charset=utf-8,"+function(e){var t=[],n={},r=0;function a(e){var t={};return function e(a,o){if(a)for(var i in a){var c="".concat(o,".").concat(i),l=a[i],u=null;"function"===typeof l.toCSV?u=l.toCSV():Array.isArray(l)||("object"===typeof l?e(l,c):u="function"===typeof l.toString?l.toString():l),u&&(t[c]=u,c in n||(n[c]=r,r++))}}(e,""),t}var o,i=Object(M.a)(e);try{for(i.s();!(o=i.n()).done;){var c=a(o.value),l=new Array(r);for(var u in c){l[n[u]]=c[u]}t.push(l)}}catch(s){i.e(s)}finally{i.f()}return Object.keys(n).join(",")+"\n"+t.map((function(e){return e.join(",")})).join("\n")}(c.map((function(e){return e.data}))));window.open(e)}},"Download as CSV"),a.a.createElement("input",{accept:"text/csv",id:"contained-button-file",type:"file",onChange:function(e){return W.apply(this,arguments)}}),a.a.createElement("label",{htmlFor:"contained-button-file"},a.a.createElement(j.a,{variant:"contained",color:"primary",component:"span"},"Load CSV")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[287,1,2]]]);
//# sourceMappingURL=main.f13edd69.chunk.js.map