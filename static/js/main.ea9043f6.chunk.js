(this.webpackJsonphousing=this.webpackJsonphousing||[]).push([[0],{287:function(e,t,n){e.exports=n(425)},425:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),u=n(17),l=n.n(u),c=n(164),s=n(77),h=n(220),p=n(21),m=n(15),f=n(495),y=n(489),d=n(496),b=n(497),v=n(498),g=n(499),w=n(507),k=n(501),E=n(502),C=n(500),j=n(430),O=n(503),x=n(504),S=n(16),A=n(237),P=n(236),R=n(426),T=n(488),H=n(490),I=n(429),F=n(508),B=n(491),N=n(492),W=n(446),V=n(443),$=n(509),G=n(493),L=n(27),M=function(){function e(t,n){Object(m.a)(this,e),this.amount=t,this.period=n}return Object(S.a)(e,[{key:"fromCSV",value:function(t){if(!("amount"in t)||!("period"in t))throw Error("Parse error: amount and period have to exist");var n=["yearly","monthly"],a=Number(t.amount);if(!n.includes(t.period))throw Error("Parse error: period should be one of [".concat(n.join(", "),"], but got ").concat(t.period));return new e(a,t.period)}},{key:"to",value:function(e){switch(e){case"monthly":return this.monthly();case"yearly":return this.yearly()}}},{key:"monthly",value:function(){var e=this.amount;return"yearly"===this.period&&(e/=12),e}},{key:"yearly",value:function(){var e=this.amount;return"monthly"===this.period&&(e*=12),e}},{key:"update",value:function(e,t){var n=this.to(e);this.amount=t(n),this.period=e}},{key:"clone",value:function(){return new e(this.amount,this.period)}}]),e}(),z=function(e){return e},U=function(){function e(t,n){Object(m.a)(this,e),this.amount=t,this.rate=n}return Object(S.a)(e,[{key:"generator",value:l.a.mark((function e(t){var n,a,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:z,a=o.length>2&&void 0!==o[2]?o[2]:z,r=this.amount;case 3:return r=n(r),r*=1+this.rate.to(t),r=a(r),e.next=9,r;case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"update",value:function(e,t,n){this.amount=e,this.rate.update(n,(function(e){return t}))}},{key:"clone",value:function(){return new e(this.amount,this.rate.clone())}}]),e}();function D(e,t){for(var n in e){var a=e[n];a&&"function"===typeof a.clone?t[n]=a.clone():t[n]=a}return t}var J=l.a.mark(le),Y=l.a.mark(ce),q=function(){function e(){Object(m.a)(this,e),this.principle=new U(1e5,new M(.06,"yearly")),this.contribution=new M(1e3,"monthly"),this.totalGain=0}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),X=function(){function e(){Object(m.a)(this,e),this.property=new M(.01,"yearly"),this.householdIncome=new M(22e4,"yearly"),this.capitalGainsRate=.15,this.filingStatus="joint",this.marginalIncomeTaxRate=.24}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),K=function(){function e(){Object(m.a)(this,e),this.term=30,this.principle=new U(2e5,new M(.03,"yearly"))}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),Q=function(){function e(){Object(m.a)(this,e),this.plan="house",this.downPayment=5e4,this.chargeForRoom=new M(600,"monthly"),this.chargeForRoomIncrease=new M(.03,"yearly"),this.extraBedrooms=0,this.utilityCost=new M(100,"monthly"),this.insurance=new M(85,"monthly"),this.house=new Z,this.rental=new _}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),Z=function(){function e(){Object(m.a)(this,e),this.repairCost=new M(500,"yearly"),this.housePrice=25e4,this.growthRate=new M(.04,"yearly"),this.hoaFee=new M(250,"monthly"),this.loan=new K,this.buyClosingCosts=.04,this.sellClosingCosts=.06}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),_=function(){function e(){Object(m.a)(this,e),this.paymentIncrease=new M(.04,"yearly"),this.payment=new M(900,"monthly")}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),ee=function(){function e(){Object(m.a)(this,e),this.housing=new Q,this.investment=new q,this.taxes=new X,this.inflation=new M(.02,"yearly")}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}(),te=function(){function e(){Object(m.a)(this,e),this.data=new ee,this.netWorth=0}return Object(S.a)(e,[{key:"clone",value:function(){return D(this,new e)}}]),e}();function ne(e,t){if(!e)throw new Error(": "+t)}function ae(e,t){e||console.warn(": "+t)}var re=function(e){return function(t){return(1+e)*t}};function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var a,r=Object(L.a)(t);try{for(r.s();!(a=r.n()).done;){e=(0,a.value)(e,n)}}catch(o){r.e(o)}finally{r.f()}return e}}function ie(){return oe((function(e,t){var n=e.data,a=n.investment.contribution,r=n.investment.principle.rate,o=n.investment.principle.amount;ne(o>=0,"base is negative");var i=se(o,r.monthly()),u=e.clone();return u.data.investment.principle.amount=i+a.monthly(),u.data.investment.totalGain+=i-o,u}),(function(e,t){var n,a,r,o=e.data.housing,i=e.data.investment,u=o.chargeForRoom.monthly()*o.extraBedrooms;if(i.principle.amount+=u-o.insurance.monthly()-o.utilityCost.monthly(),t%12===0){var l=re(e.data.inflation.yearly());o.chargeForRoom.update("monthly",re(o.chargeForRoomIncrease.yearly())),o.insurance.update("monthly",l),o.utilityCost.update("monthly",l)}switch(o.plan){case"house":r=o.house,n=function(e,t){var n=-he(r.loan).monthly()-r.repairCost.monthly()-r.hoaFee.monthly()-e.data.taxes.property.monthly()*r.housePrice,a=e.clone();a.data.investment.principle.amount+=n;var o=a.data.housing.house;if(o.housePrice=se(o.housePrice,o.growthRate.monthly()),t%12===0){var i=re(a.data.inflation.yearly());o.repairCost.update("monthly",i),o.hoaFee.update("monthly",i)}return a};break;case"rental":a=o.rental,n=function(e,t){var n=e.clone();return n.data.investment.principle.amount-=a.payment.monthly(),t%12===0&&n.data.housing.rental.payment.update("monthly",re(a.paymentIncrease.yearly())),n};break;default:throw new Error("Unsupported plan")}return n(e,t)}),function(){var e=0;return function(t,n){if("rental"===t.data.housing.plan)return t;var a=t.data.taxes,r=function(e){var t=e.principle.amount,n=he(e).monthly(),a=t*e.principle.rate.monthly(),r=n-a,o=t-r;t<r&&(o=0);return{interestPaid:a,newPrinciple:o}}(t.data.housing.house.loan),o=r.interestPaid,i=r.newPrinciple;e+=o;var u=t.clone();if(u.data.housing.house.loan.principle.amount=i,n%12===0){var l=u.data.investment.principle;l.amount+=e*a.marginalIncomeTaxRate,e=0,l.amount+=a.property.yearly()*a.marginalIncomeTaxRate}return u}}())}function ue(e){return oe(function(e){var t=e.data.housing.house.housePrice;return function(e,n){if("house"!==e.data.housing.plan)return e;var a=e.clone(),r=a.data.housing.house.loan.principle.amount,o=a.data.housing.house.sellClosingCosts,i=a.data.housing.house.housePrice,u=i*o+r,l=i-t,c=a.data.taxes.capitalGainsRate,s="joint"===a.data.taxes.filingStatus?5e5:25e4;return l>s&&(l=s+(l-s)*(1-c)),a.netWorth+=t+l-u,a}}(e),(function(e,t){var n=e.clone(),a=n.data.investment,r=n.data.taxes.capitalGainsRate;return n.netWorth+=a.totalGain*(1-r)+a.principle.amount-a.totalGain,n}))}function le(e,t){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new te).data=e.clone(),a.delegateYield(ce(n,t,{ongoing:ie(),post:ue(n)}),"t0",3);case 3:case"end":return a.stop()}}),J)}function ce(e,t,n){var a,r,o,i,u;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:e=e.clone(),a=e.data.housing.house.loan,r=e.data.housing,o=e.data.investment,a.principle.amount=r.house.housePrice-r.downPayment,i=0,"house"===r.plan&&(i=r.house.housePrice*r.house.buyClosingCosts),o.principle.amount-=r.downPayment+i,u=1;case 9:if(!(u<=t)){l.next=17;break}return console.log("Calculating month ",u),e=n.ongoing(e,u),l.next=14,n.post(e,u);case 14:u++,l.next=9;break;case 17:case"end":return l.stop()}}),Y)}function se(e,t){return ae(t>=0&&t<=1,"rate is not between 0 and 1"),e*(1+t)}function he(e){var t=12*e.term,n=e.principle.rate.monthly(),a=n*Math.pow(1+n,t),r=Math.pow(1+n,t)-1;return new M(e.principle.amount*a/r,"monthly")}function pe(e,t,n){var a=[];return function e(t,n,o){Object.keys(n).filter((function(e){return"function"!==typeof n[e]})).filter((function(e){return t[e]})).forEach((function(i){var u=n[i];if("string"===typeof u||u instanceof String||"number"===typeof u||u instanceof Number||u instanceof M){var l=t[i],c=function(e,t){return{HousingNumber:function(n,a){return function(r){e[n]=new M(Number(r.target.value),a),t(e)}},Number:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){return function(a){e[n]=Number(a.target.value),t(e)}})),String:function(n){return function(a){e[n]=a.target.value,t(e)}}}}(n,o),s=l.period;if(u instanceof M&&!s)throw new Error("".concat(i,' is a housing number. "period" is required'));a.push([r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"filled"},r.a.createElement(T.a,{label:l.label,type:l.inputType,value:u instanceof M?u.to(s):u,onChange:c[u.constructor.name](i,l.period),InputProps:{startAdornment:l.startAdornment&&r.a.createElement(H.a,{position:"start"},l.startAdornment),endAdornment:l.endAdornment&&r.a.createElement(H.a,{position:"end"},l.endAdornment)}}),r.a.createElement(I.a,null,l.helper)),r.a.createElement("br",null)),l.rank])}else e(t[i],n[i],(function(e){n[i]=e,o(n)}))}))}(e,t,n),r.a.createElement("div",null,a.sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]})))}var me=function(e){Object(A.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).label="",e}return Object(S.a)(n,[{key:"clone",value:function(){return D(this,new n)}}]),n}(ee);function fe(e){var t=e.initialData,n=e.onSubmit,a=e.onClose,o=e.open,i=r.a.useState(t),u=Object(p.a)(i,2),l=u[0],c=u[1];r.a.useEffect((function(){c(t)}),[t]);var s=pe(function(e){var t={label:{rank:1,label:"Label",helper:"Logical label for the simulation",inputType:"text"},investment:{principle:{amount:{rank:2,label:"Investment Principle",helper:"How much money do you have currently (we expect you to take your down payment out of this money)",inputType:"number",startAdornment:"$"},rate:{rank:2,label:"Average Return",helper:"What is the annual average rate of return of your portfolio?",inputType:"number",endAdornment:"%",period:"yearly"}},contribution:{rank:3,label:"Monthly Contribution",helper:"How much do you contribute to your principle each month?",inputType:"number",startAdornment:"$",period:"monthly"}},inflation:{rank:4,label:"Inflation",helper:"How much inflation per year?",inputType:"number",endAdornment:"%",period:"yearly"},housing:{downPayment:{rank:5,label:"Upfront Costs",helper:"e.g. move-in fees, non-refundable fees, pizza + beer for your friends who helped you move",inputType:"number",startAdornment:"$"},extraBedrooms:{rank:5,label:"Spare Rooms",helper:"How much you plan to charge for each spare room(s)",inputType:"number"},chargeForRoom:{rank:5,label:"Charge per Room",helper:"",inputType:"number",period:"monthly"},chargeForRoomIncrease:{rank:5,label:"Charge for room increase per year?",helper:"How much you plan to increase the rent for your spare room(s) each year",inputType:"number",endAdornment:"%",period:"yearly"}}};switch(e){case"house":t.housing.house={repairCost:{rank:6,label:"Annual Repair Cost",helper:"How much you expect to spend annually on home repairs",inputType:"number",startAdornment:"$",period:"yearly"},housePrice:{rank:6.1,label:"House Price",helper:"How much you expect to pay for the home",inputType:"number",startAdornment:"$"},buyClosingCosts:{rank:6.2,label:"Buying Closing Costs",helper:"How much you expect to pay for closing costs when buying the home(percent)",inputType:"number",endAdornment:"%"},sellClosingCosts:{rank:6.3,label:"Selling Closing Costs",helper:"How much you expect to pay for closing costs when selling the home(percent)",inputType:"number",endAdornment:"%"},growthRate:{rank:6.4,label:"Home Value Appreciation",helper:"How much you expect home value to go up each year",inputType:"number",endAdornment:"%",period:"yearly"},hoaFee:{rank:6.5,label:"HOA Fee",helper:"Home Owner's Association Monthly Fee",inputType:"number",startAdornment:"$",period:"monthly"}};break;case"rental":t.housing.rental={payment:{rank:6.1,label:"Monthly Rent Payment",helper:"How much do you pay rent every month?",inputType:"number",startAdornment:"$",period:"monthly"},paymentIncrease:{rank:6.2,label:"Payment Increase Rate",helper:"How much you expect rent to go up annually",inputType:"number",endAdornment:"%",period:"yearly"}};break;default:throw new Error("Unsupported plan: ".concat(e))}return t}(l.housing.plan),l,(function(e){return c(e.clone())}));return r.a.createElement(F.a,{open:o,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(B.a,{id:"form-dialog-title"},"Subscribe"),r.a.createElement(N.a,null,r.a.createElement(R.a,null,r.a.createElement(W.a,{id:"select-housing-type"},"Housing Type"),r.a.createElement(V.a,{labelId:"select-housing-type",value:l.housing.plan,onChange:function(e){var t=e.target.value;l.housing.plan=t,c(l.clone())}},r.a.createElement($.a,{value:"house"},"House"),r.a.createElement($.a,{value:"rental"},"Apartment")),r.a.createElement(I.a,null,"Select housing type to compare")),s),r.a.createElement(G.a,null,r.a.createElement(j.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(j.a,{color:"primary",onClick:function(){return n(l)}},"Submit")))}var ye=n(225);function de(e){var t=e.data,n=e.years;return n||(n=30),r.a.createElement(ye.a,{data:t.map((function(e){return function(e,t){for(var n=12*t,a=le(e,n),r=[],o=1;o<=n;o++){var i=a.next();if(i.done)break;o%12===0&&r.push(i.value)}return{id:e.label,data:r.map((function(e,t){return{x:t+1,y:e.netWorth}}))}}(e,n)})),margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Years",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Net Worth",legendOffset:-70,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})}function be(e,t){for(var n=e.split("\n").map((function(e){return e.split(",")})),a=n[0],r={},o=0;o<a.length;o++)for(var i=a[o].split(".").slice(1),u=r,l=0;l<i.length;l++){var c=i[l];c in u||(u[c]=l===i.length-1?o:{}),u=u[c]}function s(e,t){for(var n in e){var a=e[n];"number"===typeof a?e[n]=t[a]:s(a,t)}return e}function h(e,t,n){if(e)for(var a in n){var r,o=n[a];if("function"!==typeof o.fromCSV)switch(r=typeof o){case"number":e[a]=Number(t[a]);break;case"boolean":e[a]=Boolean(t[a]);break;case"string":e[a]=t[a];break;case"object":h(e[a],t[a],o);break;default:throw Error("Unsupported type: ".concat(r))}else e[a]=o.fromCSV(t[a])}}for(var p=n.slice(1),m=[],f=0;f<p.length;f++){var y=t.clone(),d=JSON.parse(JSON.stringify(r));s(d,p[f]),h(y,d,t),m.push(y)}return m}var ve=function e(t){Object(m.a)(this,e),this.selected=!0,this.data=void 0,t||(t=new me),this.data=t};var ge=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],o=r.a.useState([]),i=Object(p.a)(o,2),u=i[0],m=i[1],S=r.a.useState(-1),A=Object(p.a)(S,2),P=A[0],R=A[1],T=r.a.useState(new me),H=Object(p.a)(T,2),I=H[0],F=H[1],B=u.filter((function(e){return e.selected})).map((function(e){return e.data}));function N(){return(N=Object(h.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files){e.next=3;break}return e.abrupt("return");case 3:if(a=n[0]){e.next=6;break}return e.abrupt("return");case 6:(r=new FileReader).onload=function(){m(be(r.result,new me).map((function(e){return new ve(e)})))},r.readAsText(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"40vh",width:"100%"}},r.a.createElement(de,{data:B})),r.a.createElement(f.a,{component:y.a},r.a.createElement(d.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,{padding:"checkbox"},r.a.createElement(w.a,{checked:B.length>0&&B.length===u.length,onChange:function(e){return t=e.target.checked,void m(u.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{selected:t})})));var t},inputProps:{"aria-label":"select all desserts"}})),r.a.createElement(g.a,{align:"center"},"Label"),r.a.createElement(g.a,{align:"center"},"Actions"))),r.a.createElement(k.a,null,u.map((function(e,t){return r.a.createElement(v.a,{key:t,hover:!0,onClick:function(){return function(e){u[e].selected=!u[e].selected,m(Object(s.a)(u))}(t)},role:"checkbox","aria-checked":e.selected,tabIndex:-1,selected:e.selected},r.a.createElement(g.a,{padding:"checkbox"},r.a.createElement(w.a,{checked:e.selected})),r.a.createElement(g.a,{align:"center"},e.data.label),r.a.createElement(g.a,{align:"center"},r.a.createElement(E.a,{variant:"text",color:"primary","aria-label":"text primary button group"},r.a.createElement(C.a,{id:"action-edit",color:"primary","aria-label":"Edit",component:"span",onClick:function(e){return function(e,t){e.stopPropagation(),R(t),F(u[t].data),a(!0)}(e,t)}},r.a.createElement(O.a,null)),r.a.createElement(C.a,{color:"primary","aria-label":"Remove",component:"span",onClick:function(e){return function(e,t){e.stopPropagation();var n=u.slice(0,t)||[],a=u.slice(t+1)||[];m([].concat(Object(s.a)(n),Object(s.a)(a)))}(e,t)}},r.a.createElement(x.a,null)))))}))))),r.a.createElement(fe,{initialData:I,open:n,onClose:function(){return a(!1)},onSubmit:function(e){P<0||P>=u.length?m([].concat(Object(s.a)(u),[new ve(e.clone())])):(u[P]=new ve(e.clone()),m(Object(s.a)(u))),a(!1)}}),r.a.createElement(j.a,{onClick:function(){R(-1),a(!0)}},"Add"),r.a.createElement(j.a,{onClick:function(){var e=encodeURI("data:text/csv;charset=utf-8,"+function(e){var t=[],n={},a=0;function r(e){var t={};return function e(r,o){if(r)for(var i in r){var u="".concat(o,".").concat(i),l=r[i],c=null;"function"===typeof l.toCSV?c=l.toCSV():Array.isArray(l)||("object"===typeof l?e(l,u):c="function"===typeof l.toString?l.toString():l),c&&(t[u]=c,u in n||(n[u]=a,a++))}}(e,""),t}var o,i=Object(L.a)(e);try{for(i.s();!(o=i.n()).done;){var u=r(o.value),l=new Array(a);for(var c in u){l[n[c]]=u[c]}t.push(l)}}catch(s){i.e(s)}finally{i.f()}return Object.keys(n).join(",")+"\n"+t.map((function(e){return e.join(",")})).join("\n")}(u.map((function(e){return e.data}))));window.open(e)}},"Download as CSV"),r.a.createElement("input",{accept:"text/csv",id:"contained-button-file",type:"file",onChange:function(e){return N.apply(this,arguments)}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(j.a,{variant:"contained",color:"primary",component:"span"},"Load CSV")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[287,1,2]]]);
//# sourceMappingURL=main.ea9043f6.chunk.js.map